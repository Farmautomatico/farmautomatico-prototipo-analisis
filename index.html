<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Farmautomático</title>
    <link rel="stylesheet" href="css/foundation.css" />
    <link rel="stylesheet" href="typeahead.css" />
    <script src="js/vendor/modernizr.js"></script>
    <script src="js/vendor/jquery.js"></script>
    <script src="js/foundation.min.js"></script>
      <script src="typeahead.bundle.js"></script>
      <link rel="stylesheet" href="css/estilos_personalizados.css" />
  </head>
  <body>
    <div class="row">
        <div class="small-12 large-centered colums">
            <h1 align="center">Farmautomático</h1>
        </div>
      
    </div>
      <br />
      <br />
    <div class="row">
      <div class="large-offset-2 large-8 medium-12 small-12 colums">
          <label>Seleccione su ciudad:</label>
        <select id="seleccionar-ciudad">
          <option value="Seleccione">Seleccione</option>
          <option value="arica">Arica</option>
          <option value="Santiago">Santiago</option>
          <option value="Valparaíso">Valparaíso</option>
         <option value="rancagua">Rancagua</option>
        </select>
        </div>
      
      </div>
    <div class="row">
      <div class="large-offset-2 large-8 medium-12 small-12 colums">
          <dl class="accordion" data-accordion>
              <dd class="accordion-navigation"> 
                  <a onClick="onPanel(this);" id="panelnum1">¿Desea saber el especialista según su enfermedad?</a> 
                  <div id="panel1" class="content">
                   <form onsubmit="return onEspecialista();">
                     <div class="row">
                      <div class="small-3 columns">
            <label for="right-label" class="right">Enfermedad:</label>
                    </div>
                        <div class="small-4 columns">
                        <input type="text" id="enfermedad" placeholder="Ingrese la enfermedad a consultar">
                         </div>
                        <div class= "small-1 columns">
                        
                        <label  for="right-label" class="right">Edad:</label>
                        </div>
                         <div class= "small-2 columns">
                        <select id="seleccionar-edad">
                          
                        </select>
                        </div>

                        
                         <div class="small-2 columns">
                             <input class="button postfix" type=submit id="especialista-submit" value="Ir" />
                                                                                   <!-- onclick='return window.location.replace("especialista.html") -->
                            <!-- <a href="especialista.html" class="button postfix">Ir</a> -->
                        </div>
                         </div>
                  </form>
                  </div>
              </dd> 
              <dd class="accordion-navigation">
                  <a onClick="onPanel(this);" id="panelnum2">¿Desea saber información sobre centro médico o farmacia?</a> 
                  <div id="panel2" class="content">
                  <form onSubmit="return checkCentroOFarm();">
                      <div class="row">
                                <div class="large-9 columns">
                                  <label>Escoga qué desea buscar</label>
                                  <input type="radio" name="centroofarm" value="centromedico" id="centromedico"><label for="centromedico">Centros Médicos</label>
                                  <input type="radio" name="centroofarm" value="farmacia" id="farmacia"><label for="farmacia">Farmacias</label>
    </div>
                          <div class="small-2 columns">
                              <input class="button postfix" type=submit id="centromofarm-submit" value="Ir" />
                                               <!--  <a onClick="checkCentroOFarm(this);" href="" class="button postfix">Ir</a> -->
                        </div>
                    </div>
                      
                </form>
                  </div> 
              </dd> 
              <dd class="accordion-navigation"> <a href="#panel3">¿Desea saber información sobre algún remedio?</a> 
                  <div id="panel3" class="content">
                       <form onSubmit="return onRemedio();">
                     <div class="row">
                      <div class="small-3 columns">
            <label for="right-label" class="right">Remedio:</label>
                    </div>
                        <div class="small-6 columns">
                        <input type="text" id="remedio" placeholder="Ingrese el remedio a consultar">
                        </div>
                         <div class="small-2 columns">
                             <input class="button postfix" type=submit id="remedio-submit" value="Ir" />
                          <!--  <a href="remedio.html" class="button postfix">Ir</a> -->
                        </div>
                    </div>
                  </form>
                  </div> 
              </dd> 
          </dl>
      </div>
    </div>
      <br />
      <br />
    
    <div class="row">
      <div class="large-offset-8 large-4 medium-offset-6 medium-6 small-12 columns">
        <a href="PreguntasFrecuentes.html" class="button">Preguntas Frecuentes</a>
      </div>
      
    </div>

    <script>
      $(document).foundation();
    </script>
      <script>
          var edad = document.getElementById("seleccionar-edad");
          var i = 0
          for(i = 0; i<=100; i++) {
              edad.innerHTML = edad.innerHTML + '<option value="edad' + i + '">'+ i + '</option> ';
              
          }
          edad.innerHTML = edad.innerHTML + '<option value="edadmas100">101+</option> ';
          
          function onPanel(yo) {
              //alert(yo.id)
              var yourSelect = document.getElementById( "seleccionar-ciudad" );
              if (yourSelect.options[ yourSelect.selectedIndex ].value == "Seleccione") {
                  alert("No ha seleccionado la ciudad");
                  
              }
              else {
                  if (yo.id == "panelnum1") {
                   //jQuery("#panel1").addClass('active');
                      $('.active').removeClass('active');
                                document.getElementById("panel1").setAttribute("class", "active");
                      /*var id='myElementId';
                      var myClassName=" className";
                      var d=document.getElementById('panel2');
                      d.className=d.className.replace(' className',"");*/
                    //window.location.href = "#panel1";
                  }
                  else if (yo.id == "panelnum2"){
                      $('.active').removeClass('active');
                    document.getElementById("panel2").setAttribute("class", "active");
                      //window.location.href = "#panel2";
                  }
              }
              return false;
          }
          function checkCentroOFarm() {
              if (document.getElementById('centromedico').checked) {
                  window.location.href = "centromedico.html";
              }
              else if (document.getElementById('farmacia').checked) {
                  window.location.href = "farmacia.html";
              }
              else {
                  alert("Error, seleccione una opción");
                  //window.location.replace("error.html");
              }
              return false;
          }
          
          function onEspecialista() {
              window.location.href = "especialista.html";
              return false;
          }
          function onRemedio() {
              window.location.href = "remedio.html";
              return false;
          }
          
          /*$('#enfermedad').typeahead({
            name: 'name',
            //prefetch: 'data.json',
            local: [{name: 'alambama'}, {name: 'alaska'}, {name: 'washington'}],
            //limit: 10
            });*/
          
          var substringMatcher = function(strs) {
        return function findMatches(q, cb) {
        var matches, substrRegex;

        // an array that will be populated with substring matches
        matches = [];

        // regex used to determine if a string contains the substring `q`
        substrRegex = new RegExp(q, 'i');

        // iterate through the pool of strings and for any string that
        // contains the substring `q`, add it to the `matches` array
        $.each(strs, function(i, str) {
        if (substrRegex.test(str)) {
        // the typeahead jQuery plugin expects suggestions to a
        // JavaScript object, refer to typeahead docs for more info
        matches.push({ value: str });
        }
        });

        cb(matches);
        };
        };

        var enfermedades = ['Resfriado común', 'Cáncer', 'Sida', 'Depresión', 'Úlcera', 'Gastritis', 'Gastroenteritis', 'Cólon irritable', 'Hepatitis'
        ];
          
        var remedios = ['Aspirina', 'Omeprazol', 'Atorvastatina', 'La pastilla del día después', 'Loratadina', 'Clorfenamina'
        ];


        $('#enfermedad').typeahead({
        hint: true,
        highlight: true,
        minLength: 1
        },
        {
        name: 'enfermedades',
        displayKey: 'value',
        source: substringMatcher(enfermedades),
        limit: 10
        });
          $('#remedio').typeahead({
        hint: true,
        highlight: true,
        minLength: 1
        },
        {
        name: 'remedios',
        displayKey: 'value',
        source: substringMatcher(remedios),
        limit: 10
        });
          
      </script>
  </body>
</html>
